{
  "$schema": "https://vega.github.io/schema/vega-lite/v3.json",
  "data": {
    "url": "./cfp.json"
  },
  "transform": [
    { "filter": "datum.count == 100000"},
    { "calculate": "datum.name + ' ' + datum.jvm", "as": "namejvm"}
  ],
  "mark": "bar",
  "encoding": {
    "y": {
      "field": "score",
      "type": "quantitative",
      "axis": {
        "title": "ops/s",
        "grid": false
      }
    },
    "x": {
      "field": "namejvm",
      "type": "nominal",
      "scale": {
        "rangeStep": 20
      },
      "axis": {
        "title": "",
        "labelAngle": -40
      },
      "sort": {
        "encoding": "x"
      }
    },
    "color": {
      "field": "lang",
      "type": "nominal"
    },
    "row" :{
      "field": "jvm",
      "type": "nominal"
    }
  },
  "config": {
    "view": {},
    "axis": {
      "domainWidth": 1
    }
  }
}